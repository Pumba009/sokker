1.
The CJS build of Vite's Node API is deprecated. See https://vite.dev/guide/troubleshooting.html#vite-cjs-node-api-deprecated for more details.
TypeError: Cannot read properties of undefined (reading 'join')
    at file:///F:/Projects/Web/ChromeExtensions/sokkerPlusV2/node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:14189:13
    at async file:///F:/Projects/Web/ChromeExtensions/sokkerPlusV2/node_modules/vite/dist/node/chunks/dep-DBxKXgDP.js:46985:28


oznacza, ≈ºe uruchomi≈Çe≈õ Vite dev server przez CommonJS (CJS) API, kt√≥re jest obecnie przestarza≈Çe.
Vite zaleca u≈ºywanie ES Module (ESM) API lub standardowego skryptu vite z package.json.

Je≈õli chcesz ca≈Çkowicie pozbyƒá siƒô ostrze≈ºe≈Ñ, mo≈ºesz w package.json dodaƒá "type": "module"



2.
Cannot find name 'chrome'.

npm install --save-dev @types/chrome

tsconfig.json 
  "compilerOptions": {
    ...
    "types": [
        ...,
        "chrome" -- musi byc
        ]


3.
Uncaught SyntaxError: Cannot use import statement outside a module
oznacza, ≈ºe Chrome nie wie, ≈ºe Tw√≥j skrypt jest modu≈Çem ES.
Vite bundluje pliki jako ESM (import/export).
Ale Chrome Extension wymaga, ≈ºeby≈õ jawnie oznaczy≈Ç, ≈ºe plik JS jest modu≈Çem.

Jak to poprawiƒá?

1. Content scripts (content/players.js)

W manifest.json wpisujesz:
"content_scripts": [
  {
    "matches": ["https://example.com/players*"],
    "js": ["content/players.js"],
    "type": "module"
  }
]
type: "module" dzia≈Ça od Chrome 91+ i m√≥wi, ≈ºe players.js u≈ºywa import/export.

problem jest w tym, ≈ºe w Manifest V3 Chrome nie obs≈Çuguje jeszcze type: "module" dla content_scripts.

üëâ type: "module" dzia≈Ça tylko dla:

background.service_worker

<script type="module"> w popup/HTML

1.1. Trzeba zrobic bundla aby za≈Çadowac wszystkie zaleznosci do jednego pliku.
1. U≈ºyƒá bundlowania do jednego pliku (zalecane)

Vite mo≈ºe spakowaƒá ca≈Çy players.ts + importy (constants.ts) w jeden plik, ≈ºeby nie by≈Ço import ... from ... w finalnym dist/content/players.js.





2. Background worker (background/index.js)
"background": {
  "service_worker": "background/index.js",
  "type": "module"
}

3. Popup (popup.html)

W popup.html musisz dodaƒá type="module":
<script type="module" src="popup/index.js"></script>


Podsumowanie ‚Äì co zrobiƒá:

Dodaj "type": "module" w manifest.json (dla content_scripts i background).

Dodaj type="module" w <script> w popup.html.